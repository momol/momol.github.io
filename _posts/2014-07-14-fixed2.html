---
layout: default
title: 固定边栏滚动效果js
---
<style>
	#left{height: 2000px;width: 60%;float: left;background: #fc0;opacity: .6;}
	#right{height: 1000px;width: 35%;float: right;background: #ff0;opacity: .6;}
	#right.fixed{position: fixed;top: 0;right: 0;}
</style>
<div id="left">left</div>
<div id="right">right</div>
<script>
	var $=function(id){
		return document.getElementById(id);
	}
	var addEvent=function(obj,event,fn){
		if(obj.addEventListener){
			obj.addEventListener(event,fn,false);
		}else if(obj.attachEvent){
			obj.attachEvent('on'+event,fn);
		}
	}
	var domSider= $('right');
	addEvent(window,'scroll',function(){
		var sideHeight=domSider.offsetHeight;
		var screenHeight=document.body.clientHeight||document.documentElement.clientHeight;
		var scrollHeight=document.body.scrollTop||document.documentElement.scrollTop;
		if(scrollHeight+screenHeight>sideHeight){
			domSider.style.cssText='position:fixed;right:0px;top:'+-(sideHeight-screenHeight)+'px';
		}else{
			domSider.style.position='static';
		}
	});
</script>